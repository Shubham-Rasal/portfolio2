---
import Layout from "../../layouts/Layout.astro";
export async function getStaticPaths() {
    const res = await Astro.glob("../../data/posts/*.md");
    return res.map((post) => {
        return {
            params: {
                slug: post.frontmatter.slug,
            },
            props : {
                post
            }
        };
    });
}

function formatDate(date: string) {
    const d = new Date(date);
    const res = new Intl.DateTimeFormat("en-US", {
        dateStyle: "medium",
    }).format(d);
    return res;
}

const { Content, frontmatter } = Astro.props.post;
---

<Layout title={frontmatter.title}>
    <section class="px-6 sm:px-6 py-12 sm:py-16 lg:py-20 mx-auto max-w-4xl text-lg text-slate-300">
        <button class="my-2 text-teal-400">
            <a href="/blog">
                &larr; Back to blog
            </a>
        </button>
        <h1 class="text-xl sm:text-3xl font-bold leading-tight tracking-tight my-4">
            {frontmatter.title}
        </h1>
        <p class="text-gray-600">
            {formatDate(frontmatter.date)}
        </p>
        <Content />
    </section>
</Layout>
