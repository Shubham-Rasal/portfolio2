---
import Layout from "../layouts/Layout.astro";

const posts = await Astro.glob("../content/posts/*.md");
posts.sort(
  (a, b) => Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date)
);

function formatDate(date: string) {
  const d = new Date(date);
  const res = new Intl.DateTimeFormat("en-US", {
    dateStyle: "medium",
  }).format(d);
  return res;
}
---

<Layout title="Blog">
  <div class="flex flex-col mt-16 z-50">
    <h1 class="text-3xl font-bold text-center">Writing my thoughts</h1>

    <div class="flex mt-10 flex-wrap w-screen justify-start p-4 md:p-12">
      {
        posts.map((post) => (
          <div class="w-full flex  flex-wrap justify-between mx-auto lg:p-1 lg:px-32  md:p-2 px-2 md:px-12 text-base lg:text-xl font-medium text-teal-400 cursor-pointer hover:underline hover:underline-offset-3 hover:text-teal-500 transition duration-300 ease-in-out">
            <div class="w-full lg:w-auto">
              <a href={`/posts/${post.frontmatter.slug}`}>
                {post.frontmatter.title}
              </a>
            </div>
            <div class="text-gray-500 text-xs lg:text-base">
              {" "}
              {formatDate(post.frontmatter.date)}
            </div>
          </div>
        ))
      }
      
    </div>
		<a
        class="text-center w-screen text-gray-300 text-md lg:text-base mt-2"
        href="rss.xml"
      >
        <!-- <img src="code.svg"  alt="Subscribe to My Website" class="h-6"/> -->RSS
      </a>
  </div>
</Layout>
